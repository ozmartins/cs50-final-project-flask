{% extends "layout.html" %}

{% block style %}
<link rel="stylesheet" href="/static/stocks.css">
{% endblock %}

{% block main %}

<div class="top-bar">
    <input type="text" placeholder="Busque uma empresa">
    <span>Ordenar por</span>
    <select name="order" id="order">                
        {% for item in orderby_criterias %}
        <option value="{{item["id"]}}">{{item["description"]}}</option>
        {% endfor %}
    </select>    
    <a href="/stocks-grid"><img src="/static/grid-view-icon-unselected.png" alt=""></a>
    <a href="/stocks-list"><img src="/static/list-view-icon-selected.png" alt=""></a>
</div>

<div class="stocks">
    <div class="column filters">
        {% for item in filters %}
        <form action="/stocks-list" method="POST">
            <div>
                <div><p class="filter-group">{{item["description"]}}</p></div>
                <input type="hidden" name="field-name" value="{{item["field"]}}">
                {% for option in item["options"] %}              
                    <div>                      
                        <input type="checkbox" name="{{option["name"]}}" id="filter-{{item["field"]}}{{option["name"]}}" >
                        <label for="filter-{{item["field"]}}{{option["field"]}}">{{option["name"]}}</label>
                    </div>
                {% endfor %}            
                <div><input class="button btn btn-dark" type="submit" value="Aplicar"></div>
            </div>
        </form>
        {% endfor %}        
    </div>
    <div class="column stock-list">
        {% for item in stock_list %}
            <a href="/stock/{{item["ticker"]}}">  
                <div class="stock-list-item">
                    <img src="/static/companies-logo/{{item["ticker"]}}.gif" alt="..." class="company-logo">
                    <div class="company-info">
                        <p class="company-name">{{item["name"]}}</p>
                        <p class="company-group">{{item["sector"]}}</p>
                        <p class="company-subgroup">{{item["subsector"]}}</p>
                        <p class="company-segment">{{item["segment"]}}</p>
                    </div>              
                    <p class="company-description">{{item["description"]}}</p>              
                </div>
            </a>
        {% endfor %}
    </div>
</div>

<script>  
    selectTab("stocks-tab");
</script>
{% endblock %}